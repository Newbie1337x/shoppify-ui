<header>

  <div class="header-top">
    <div class="brand-block">
      <button
        class="menu-button"
        type="button"
        [attr.aria-label]="mostrarNav ? 'Cerrar menu' : 'Abrir menu'"
        [attr.aria-expanded]="mostrarNav"
        aria-controls="main-nav"
        (click)="toggleNav()">
        <span class="menu-icon" aria-hidden="true"></span>
      </button>

      <a class="brand" routerLink="/home" aria-label="Ir al inicio">
        <img id="logo" class="logo-desktop" src="image/logo.png" alt="Shoppify">
      </a>
    </div>

    <app-search-bar
      id="header-search"
      class="header-search"
      [class.is-open]="mostrarBusquedaMovil"></app-search-bar>

    <div class="header-icons" aria-label="Acciones de usuario">
      <button
        type="button"
        class="icon-button search-trigger"
        [class.is-open]="mostrarBusquedaMovil"
        aria-label="Buscar"
        aria-controls="header-search"
        [attr.aria-expanded]="mostrarBusquedaMovil"
        (click)="toggleBusquedaMovil()">
        <img src="image/lupa.png" alt="">
      </button>


      <app-user-avatar></app-user-avatar>


      <button type="button" class="icon-button" aria-label="Carrito" routerLink="/cart" cButton color="primary" class="position-relative m-1">
        <img src="image/carrito.png" alt="">
        @if(itemsInCart() != 0){<c-badge color="danger" position="top-end" shape="rounded-pill">{{ itemsInCart() }}</c-badge>
        <span class="visually-hidden">Products in cart</span>}
      </button>
    </div>
  </div>

  <div class="header-desplegable" [class.show]="mostrarNav">
    <nav id="main-nav" class="header-bottom" aria-label="Navegacion principal">
      <ul>
        <li id="productos-button"><a routerLink="/products">Productos</a></li>
        <li id="categorias-button"><a routerLink="/categories">Categorias</a></li>
        <li (click)="gotoHot()" id="hot-button"><a>ðŸ”¥Hot Sales</a></li>
        <li id="ayuda-button"><a routerLink="/help">Ayuda</a></li>
      </ul>
    </nav>
  </div>
</header>

