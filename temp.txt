import { Component } from '@angular/core';
import { Router, RouterLink } from '@angular/router';
import { type ChartData } from 'chart.js';
import { ChartjsComponent } from '@coreui/angular-chartjs';
import { ProductService } from '../../services/product-service';
import { ProductParams } from '../../models/filters/productParams';
import { Product } from '../../models/product';

@Component({
  selector: 'app-admin-page',
  standalone: true,
  imports: [RouterLink,ChartjsComponent],
  templateUrl: './admin-page.html',
  styleUrls: ['./admin-page.css']
})
export class AdminPage {

  productData! : Product[]
  
  constructor(
  private router : Router,
  private productService: ProductService
  ){}

  data: ChartData = {
    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
    datasets: [
      {
        label: 'Productos mas vendidos',
        backgroundColor: '#f87979',
        data: [40, 20, 12, 39, 10, 80, 40]
      }
    ]
  };
getData(){
const params: ProductParams = {
  sort:"sold_quantity",
  page:0,
  size:8
}
this.productService.getList(params).subscribe({
  next:(value) => {
    this.productData = value.data
  },
})
}


createProduct(){
  this.router.navigate(["auth/admin/createP"]);
}

}

